{% extends "base.html" %}
{% block title %}Editar Veículo - Luxury Wheels{% endblock %}
{% block content %}

<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card fade-in">
        <div class="card-body">
          <div class="text-center mb-4">
            <i class="bi bi-wrench-adjustable-circle" style="font-size: 3rem; color: var(--warning-color);"></i>
            <h2 class="mt-3">Editar Veículo</h2>
            <p class="text-muted">Atualize as informações do veículo</p>
          </div>
          
          <form method="POST">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="brand" class="form-label">
                  <i class="bi bi-tag"></i> Marca *
                </label>
                <input type="text" name="brand" id="brand" value="{{ vehicle.brand }}" class="form-control" placeholder="Ex: Mercedes" required>
              </div>

              <div class="col-md-6 mb-3">
                <label for="model" class="form-label">
                  <i class="bi bi-car-front"></i> Modelo *
                </label>
                <input type="text" name="model" id="model" value="{{ vehicle.model }}" class="form-control" placeholder="Ex: C-Class" required>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="category" class="form-label">
                  <i class="bi bi-grid"></i> Categoria
                </label>
                <input type="text" name="category" id="category" value="{{ vehicle.category }}" class="form-control" placeholder="Ex: Sedan, SUV">
              </div>

              <div class="col-md-6 mb-3">
                <label for="vehicle_type" class="form-label">
                  <i class="bi bi-car-front"></i> Tipo de Veículo *
                </label>
                <select name="vehicle_type" id="vehicle_type" class="form-select" required>
                  <option value="Carro" {% if vehicle.vehicle_type == 'Carro' %}selected{% endif %}>Carro</option>
                  <option value="Moto" {% if vehicle.vehicle_type == 'Moto' %}selected{% endif %}>Moto</option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="transmission" class="form-label">
                  <i class="bi bi-gear"></i> Transmissão
                </label>
                <select name="transmission" id="transmission" class="form-select">
                  <option value="Manual" {% if vehicle.transmission == 'Manual' %}selected{% endif %}>Manual</option>
                  <option value="Automática" {% if vehicle.transmission == 'Automática' %}selected{% endif %}>Automática</option>
                </select>
              </div>

              <div class="col-md-6 mb-3">
                <label for="people_capacity" class="form-label">
                  <i class="bi bi-people"></i> Capacidade de Pessoas
                </label>
                <input type="number" name="people_capacity" id="people_capacity" min="1" max="50" value="{{ vehicle.people_capacity }}" class="form-control" placeholder="Ex: 5">
              </div>
            </div>

            <div class="mb-3">
              <label for="daily_rate" class="form-label">
                <i class="bi bi-cash"></i> Preço Diário (€) *
              </label>
              <input type="number" step="0.01" name="daily_rate" id="daily_rate" value="{{ vehicle.daily_rate }}" class="form-control" placeholder="Ex: 150.00" required>
            </div>

            <div class="mb-3">
              <label for="image_url" class="form-label">
                <i class="bi bi-image"></i> Link da Foto
              </label>
              <input type="url" name="image_url" id="image_url" value="{{ vehicle.image_url }}" class="form-control" placeholder="https://exemplo.com/foto.jpg">
              <small class="text-muted">URL da imagem do veículo</small>
            </div>

            <hr class="my-4">
            <h5 class="mb-3">
              <i class="bi bi-tools"></i> Manutenção e Inspeção
            </h5>

            <div class="row">
              <div class="col-md-4 mb-3">
                <label for="last_revision" class="form-label">
                  <i class="bi bi-wrench"></i> Última Revisão
                </label>
                <input type="date" name="last_revision" id="last_revision" value="{{ vehicle.last_revision }}" class="form-control">
              </div>

              <div class="col-md-4 mb-3">
                <label for="next_revision" class="form-label">
                  <i class="bi bi-calendar-event"></i> Próxima Revisão
                </label>
                <input type="date" name="next_revision" id="next_revision" value="{{ vehicle.next_revision }}" class="form-control">
              </div>

              <div class="col-md-4 mb-3">
                <label for="last_inspection" class="form-label">
                  <i class="bi bi-clipboard-check"></i> Última Inspeção
                </label>
                <input type="date" name="last_inspection" id="last_inspection" value="{{ vehicle.last_inspection }}" class="form-control">
              </div>
            </div>

            <div class="alert alert-warning">
              <i class="bi bi-exclamation-triangle"></i>
              <strong>Importante:</strong> Mantenha as informações de manutenção atualizadas para garantir a segurança.
            </div>

            <div class="d-grid gap-2 mt-4">
              <button type="submit" class="btn btn-warning btn-lg">
                <i class="bi bi-check-circle"></i> Atualizar Veículo
              </button>
              <a href="{{ url_for('my_reservations') }}" class="btn btn-secondary">
                <i class="bi bi-x-circle"></i> Cancelar
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %}
